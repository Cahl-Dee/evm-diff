# Given the below list of addresses from https://github.com/ethereum-optimism/optimism/blob/develop/specs/predeploys.md
# return whether a contract is a precompile or predeploy. Precompiles have 0xfe or 0x as their
# code, while predeploys have regular bytecode.
addresses=(
  0x4200000000000000000000000000000000000000
  0x4200000000000000000000000000000000000002
  0xDeadDeAddeAddEAddeadDEaDDEAdDeaDDeAD0000
  0x4200000000000000000000000000000000000006
  0x4200000000000000000000000000000000000007
  0x4200000000000000000000000000000000000010
  0x4200000000000000000000000000000000000011
  0x4200000000000000000000000000000000000012
  0x4200000000000000000000000000000000000013
  0x420000000000000000000000000000000000000F
  0x4200000000000000000000000000000000000042
  0x4200000000000000000000000000000000000015
  0x4200000000000000000000000000000000000016
  0x4200000000000000000000000000000000000014
  0x4200000000000000000000000000000000000017
  0x4200000000000000000000000000000000000018
  0x4200000000000000000000000000000000000019
  0x420000000000000000000000000000000000001a
)

for address in "${addresses[@]}"; do
  code="$(cast code $address --rpc-url $OPTIMISM_RPC_URL)"
  if [ "$code" == "0xfe" ] || [ "$code" == "0x" ]; then
    echo "$address precompile"
  else
    echo "$address predeploy"
  fi
done